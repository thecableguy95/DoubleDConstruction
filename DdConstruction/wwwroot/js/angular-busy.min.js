angular.module("cgBusy",[]);angular.module("cgBusy").factory("_cgBusyTrackerFactory",["$timeout","$q",function(n,t){return function(){var i={},r;return i.promises=[],i.delayPromise=null,i.durationPromise=null,i.delayJustFinished=!1,i.reset=function(t){i.minDuration=t.minDuration;i.promises=[];angular.forEach(t.promises,function(n){n&&!n.$cgBusyFulfilled&&r(n)});0!==i.promises.length&&(i.delayJustFinished=!1,t.delay&&(i.delayPromise=n(function(){i.delayPromise=null;i.delayJustFinished=!0},parseInt(t.delay,10))),t.minDuration&&(i.durationPromise=n(function(){i.durationPromise=null},parseInt(t.minDuration,10)+(t.delay?parseInt(t.delay,10):0))))},i.isPromise=function(n){var t=n&&(n.then||n.$then||n.$promise&&n.$promise.then);return"undefined"!=typeof t},i.callThen=function(n,i,r){var u,f;n.then||n.$then?u=n:n.$promise?u=n.$promise:n.denodeify&&(u=t.when(n));f=u.then||u.$then;f.call(u,i,r)},r=function(n){if(!i.isPromise(n))throw new Error("cgBusy expects a promise (or something that has a .promise or .$promise");-1===i.promises.indexOf(n)&&(i.promises.push(n),i.callThen(n,function(){n.$cgBusyFulfilled=!0;-1!==i.promises.indexOf(n)&&i.promises.splice(i.promises.indexOf(n),1)},function(){n.$cgBusyFulfilled=!0;-1!==i.promises.indexOf(n)&&i.promises.splice(i.promises.indexOf(n),1)}))},i.active=function(){return i.delayPromise?!1:i.delayJustFinished?(i.delayJustFinished=!1,0===i.promises.length&&(i.durationPromise=null),i.promises.length>0):i.durationPromise?!0:i.promises.length>0},i}}]);angular.module("cgBusy").value("cgBusyDefaults",{});angular.module("cgBusy").directive("cgBusy",["$compile","$templateCache","cgBusyDefaults","$http","_cgBusyTrackerFactory",function(n,t,i,r,u){return{restrict:"A",link:function(f,e,o){var v=e.css("position"),s,l,y,h,p,c,a;("static"===v||""===v||"undefined"==typeof v)&&e.css("position","relative");c=u();a={templateUrl:"angular-busy.html",delay:0,minDuration:0,backdrop:!0,message:"Please Wait...",wrapperClass:"cg-busy cg-busy-animation"};angular.extend(a,i);f.$watchCollection(o.cgBusy,function(i){if(i||(i={promise:null}),angular.isString(i))throw new Error("Invalid value for cg-busy. cgBusy no longer accepts string ids to represent promises/trackers.");(angular.isArray(i)||c.isPromise(i))&&(i={promise:i});i=angular.extend(angular.copy(a),i);i.templateUrl||(i.templateUrl=a.templateUrl);angular.isArray(i.promise)||(i.promise=[i.promise]);h||(h=f.$new());h.$message=i.message;angular.equals(c.promises,i.promise)||c.reset({promises:i.promise,delay:i.delay,minDuration:i.minDuration});h.$cgBusyIsActive=function(){return c.active()};s&&y===i.templateUrl&&p===i.backdrop||(s&&s.remove(),l&&l.remove(),y=i.templateUrl,p=i.backdrop,r.get(y,{cache:t}).then(function(t){var r,u;(i.backdrop="undefined"==typeof i.backdrop?!0:i.backdrop,i.backdrop)&&(r='<div class="cg-busy cg-busy-backdrop cg-busy-backdrop-animation ng-hide" ng-show="$cgBusyIsActive()"><\/div>',l=n(r)(h),e.append(l));u='<div class="'+i.wrapperClass+' ng-hide" ng-show="$cgBusyIsActive()">'+t.data+"<\/div>";s=n(u)(h);angular.element(s.children()[0]).css("position","absolute").css("top",0).css("left",0).css("right",0).css("bottom",0);e.append(s)},function(n){throw new Error("Template specified for cgBusy ("+i.templateUrl+") could not be loaded. "+n);}))},!0)}}}]);angular.module("cgBusy").run(["$templateCache",function(n){"use strict";n.put("angular-busy.html",'<div class="cg-busy-default-wrapper">\n\n   <div class="cg-busy-default-sign">\n\n      <div class="cg-busy-default-spinner">\n         <div class="bar1"><\/div>\n         <div class="bar2"><\/div>\n         <div class="bar3"><\/div>\n         <div class="bar4"><\/div>\n         <div class="bar5"><\/div>\n         <div class="bar6"><\/div>\n         <div class="bar7"><\/div>\n         <div class="bar8"><\/div>\n         <div class="bar9"><\/div>\n         <div class="bar10"><\/div>\n         <div class="bar11"><\/div>\n         <div class="bar12"><\/div>\n      <\/div>\n\n      <div class="cg-busy-default-text">{{$message}}<\/div>\n\n   <\/div>\n\n<\/div>')}]);